<div class="effects-panel">
  <h3>Effets Audio</h3>

  <!-- FILTRE -->
  <div class="effect-section" [class.active]="filterEnabled">
    <div class="effect-header">
      <label class="switch">
        <input type="checkbox" [checked]="filterEnabled" (click)="onFilterToggle()">
        <span class="slider"></span>
      </label>
      <h4>Filtre {{ filterEnabled ? '(Actif)' : '(Inactif)' }}</h4>
    </div>

    <div class="effect-controls">
      <div class="control-group">
        <label>Type:</label>
        <select [(ngModel)]="filterType" (change)="onFilterTypeChange()" [disabled]="!filterEnabled">
          @for (type of filterTypes; track type) {
            <option [value]="type">{{ type }}</option>
          }
        </select>
      </div>

      <div class="control-group">
        <label>Frequence: {{ filterFrequency }} Hz</label>
        <input 
          type="range" 
          min="20" 
          max="20000" 
          step="10"
          [value]="filterFrequency"
          (input)="onFilterFrequencyChange($event)"
          [disabled]="!filterEnabled">
      </div>
    </div>
  </div>

  <!-- DELAY -->
  <div class="effect-section" [class.active]="delayEnabled">
    <div class="effect-header">
      <label class="switch">
        <input type="checkbox" [checked]="delayEnabled" (click)="onDelayToggle()">
        <span class="slider"></span>
      </label>
      <h4>Delay (Echo) {{ delayEnabled ? '(Actif)' : '(Inactif)' }}</h4>
    </div>

    <div class="effect-controls">
      <div class="control-group">
        <label>Temps: {{ delayTime.toFixed(2) }}s</label>
        <input 
          type="range" 
          min="0.1" 
          max="1.0" 
          step="0.05"
          [value]="delayTime"
          (input)="onDelayTimeChange($event)"
          [disabled]="!delayEnabled">
      </div>

      <div class="control-group">
        <label>Feedback: {{ (delayFeedback * 100).toFixed(0) }}%</label>
        <input 
          type="range" 
          min="0" 
          max="0.9" 
          step="0.05"
          [value]="delayFeedback"
          (input)="onDelayFeedbackChange($event)"
          [disabled]="!delayEnabled">
      </div>
    </div>
  </div>

  <!-- REVERB -->
  <div class="effect-section" [class.active]="reverbEnabled">
    <div class="effect-header">
      <label class="switch">
        <input type="checkbox" [checked]="reverbEnabled" (click)="onReverbToggle()">
        <span class="slider"></span>
      </label>
      <h4>Reverb {{ reverbEnabled ? '(Actif)' : '(Inactif)' }}</h4>
    </div>

    <div class="effect-controls">
      <p class="info">Reverb de salle activee</p>
    </div>
  </div>
</div>
